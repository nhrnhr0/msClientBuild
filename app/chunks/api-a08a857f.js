import{u as s,g as h,S as g,L as S,G as T,e as p,f as y,h as b}from"./cookies-d7879264.js";import{a7 as l}from"./vendor-ab4be69b.js";let i={};function v(t){let e={logs:t,uid:f()};return a(S,{method:"POST",body:JSON.stringify(e)})}function a(t,e,n,r=!1){let c={"Content-Type":"application/json","Content-Type":"application/json; charset=UTF-8"};e&&e.method=="POST"&&(c["X-CSRFToken"]=h("csrftoken")),l(s).access&&(c.Authorization="Token "+l(s).access);var m=new Headers(c);e=Object.assign({},{method:"GET",mode:"cors",credentials:"include",headers:m,redirect:"follow"},e);let d;try{d=n?n(t,e):fetch(t,e)}catch(o){console.error(o)}return d.then(o=>{if(o.status==401){let u=l(s);if(u.isLogin=!1,u.access=null,s.set(u),!r)return a(t,e,n,!0)}return o.json()}).then(o=>o)}function k(t){return a(p+"?q="+encodeURIComponent(t))}function C(t,e){if(i[t])return i[t];{let n=a(g+"/_get_album_images/"+t,{method:"GET"},e);return i[t]=n,i[t]}}async function P(){let t=f(),e="/";t&&(e+=t);let n=await a(T+e);var r;r=n.uid,localStorage.setItem("uuid",r)}function f(){return localStorage.getItem("uuid")}function w(t){var e={method:"POST",body:JSON.stringify(t)};let n;return n=a(y,e),n}function G(t){var e={method:"POST",body:JSON.stringify(t)};let n;return n=a(b,e),n}export{k as a,v as b,f as c,G as d,a as f,C as g,P as r,w as s};
